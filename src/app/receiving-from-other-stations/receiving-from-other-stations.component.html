<div class="right-scroll">
  <!-- START: Receiving -->
  <table class="table_three table-width">
    <thead>
      <tr>
        <td>
          <div class="toggle-button-css" *ngIf="mergeClickBool == false">
            <div>
              <mat-form-field class="full-width">
                <input matInput placeholder="Variety" [(ngModel)]="appSharedService.searchFieldValue">
              </mat-form-field>
            </div>
          </div>
          <div class="flex-display" [class.flex-center]="mergeClickBool">
            <button mat-button *ngIf="mergeClickBool == false" (click)="mergeClick($event, 'start_merge')"><i class="material-icons rotate_90">merge_type</i> MERGE</button>
            <button mat-button *ngIf="mergeClickBool == false"><i class="material-icons rotate_90">call_split</i> SPLIT</button>
            <button mat-button *ngIf="mergeClickBool == true" (click)="mergeClick($event, 'cancel_merge')"><i class="material-icons rotate_90">merge_type</i> CANCEL MERGE</button>
          </div>
          <div class="select-plant-text" *ngIf="mergeClickBool == true">Select a plant to merge</div>
          <div class="toggle-button-css" *ngIf="mergeClickBool == false">
              <mat-button-toggle value="left">
                Type <i class="material-icons">arrow_drop_down</i>
              </mat-button-toggle>
              <mat-button-toggle value="center" (click)="appSharedService.varietiesSort()">
                A-Z <i class="material-icons">arrow_drop_down</i>
              </mat-button-toggle>
              <mat-button-toggle value="right" (click)="appSharedService.weekSort()">
                Wk# <i class="material-icons">arrow_drop_down</i>
              </mat-button-toggle>
          </div>
        </td>
        <ng-container *ngFor="let head of heads3;let i=index">
            <td [ngClass]="{'display-no':i>4,'merge-cell-style':i==4}" [colSpan]="i==4?4:1" *ngIf="i<4">
              <span [ngClass]="{'store-left':i==0}"><i class="material-icons rotate_45 valign_middle">arrow_drop_down</i>{{head}}</span>
            </td>
        </ng-container>
        <td class="bottom-row"><span class="rotate-text"><i class="material-icons rotate_45 valign_middle">arrow_drop_down</i>Quantity</span></td>
        <td class="bottom-row"><span class="rotate-text"><i class="material-icons rotate_45 valign_middle">arrow_drop_down</i>#Discarded</span></td>
        <td class="bottom-row select-title"><span class="rotate-text"><i class="material-icons rotate_45 valign_middle">arrow_drop_down</i>Reason Code</span></td>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of appSharedService.varietyOptions | ReceivingInfoPipe" class="form-input-model"
      [ngClass]="{'disabled-row':!item.received}">
      <td>
          <div class="icon-box" (click)="appSharedService.openDialog(item)">
              <svg class="icon" [ngClass]="item.color_id">
              <use [attr.href]="item.url" />
              </svg>
              </div>
              <span>{{item.name}}<s class="secondary-text">{{ item.weekNumber ? '  Wk' + item.weekNumber : ''}}</s></span>
      </td>
      <td>
        <input matInput name="lot_no" [(ngModel)]="item.plugTray.seedLotNumber" [disabled]="true">
      </td>
      <td>
        <input matInput name="ft" [(ngModel)]="item.plantingInfo.finishedTrays" [disabled]="true">
      </td>
      <td>
        <input matInput name="l_no" [(ngModel)]="item.plantingInfo.locatorNumber" [disabled]="true">
      </td>
      <td>
        <input matInput name="b_no" [(ngModel)]="item.plantingInfo.houseBay" [disabled]="true">
      </td>

      <td>
        <input matInput type="number" name="q" [(ngModel)]="item.receivingInfo.quantity" [disabled]="!item.receivingInfo.receivedButonClicked" (blur)="updatePlugToDeliverData(item)">
      </td>
      <td>
        <input matInput name="rl_no" [(ngModel)]="item.plantingInfo.locator" [disabled]="!item.receivingInfo.receivedButonClicked" (blur)="updatePlugToDeliverData(item)">
      </td>
      <td>
        <input matInput type="number" name="r_d" [(ngModel)]="item.receivingInfo.discarded" [disabled]="!item.receivingInfo.receivedButonClicked" (blur)="updatePlugToDeliverData(item)">
      </td>
      <td class="select-field">
        <mat-select placeholder="" #select="matSelect" [(ngModel)]="item.receivingInfo.reasonCode" [disabled]="!item.receivingInfo.receivedButonClicked" (ngModelChange)="updatePlugToDeliverData(item)">
          <mat-select-trigger>{{select.selected?.viewValue.split(' (')[0]}}</mat-select-trigger>
          <mat-option *ngFor="let rc of reasonCodes" [value]="rc.code">{{ rc.code }} ({{rc.reason}})</mat-option>
        </mat-select>
      </td>
      <td>
        <button mat-raised-button color="primary" (click)="receivePlant(item)" *ngIf="item.receivingInfo.showReceiveButton">Received</button>
      </td>
    </tr>
  </tbody>
  </table>
  <!-- END: Receiving -->

</div>